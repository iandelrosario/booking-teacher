function contentImage(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$("#content-file-preview").attr("src",e.target.result)},t.readAsDataURL(e.files[0])}}$(document).ready(function(){$(".contentEditable").keyup(function(e){$("#contentEditable").val($(this).html());var t=$("#content-file").val(),n=$("#contentEditable").val();""!==t&&""!==n?$("#submit-post").removeAttr("disabled"):$("#submit-post").attr("disabled","disabled")}),$("#content-file").change(function(){var e=$(this).val(),t=$("#contentEditable").val();""!==e&&""!==t&&$("#submit-post").removeAttr("disabled")})}),$("[contenteditable]").on("paste",function(e){e.preventDefault();var t=(e.originalEvent||e).clipboardData.getData("text/html"),n=$("<div></div>").append($(t));n.children("style").remove(),n.children("meta").remove(),n.children("link").remove();var a=n.html().replace(/<\/?[^`]+?\/?>/gim,"\n").replace(/\n[\s]*\n/gim,"\n"),i=(a=$.trim(a)).split("\n");for(var r in i)i[r]="<div>"+$.trim(i[r])+"</div><br>";a=i.join("\n"),document.execCommand("inserthtml",!1,a)}),$(document).ready(function(){$(".contentEditable").keydown(function(e){if(e.ctrlKey||e.metaKey){switch(e.keyCode){case 66:case 98:ret=!1;break;case 73:case 105:ret=!1;break;case 85:case 117:ret=!1;break;default:ret=!0}return ret}})});
